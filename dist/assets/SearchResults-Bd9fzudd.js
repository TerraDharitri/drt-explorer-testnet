import{j as e,F as s,c as a,a as t,U as r,f as d}from"./index-DAlTqEZr.js";import{f as l,r as i,L as c}from"./vendor-DKx09kD0.js";import{a as x}from"./api-BXm3BkPp.js";import{f as m,e as n,g as o}from"./formatters-Qc2P36Ej.js";const h=()=>{const[h]=l(),g=h.get("q")||"",[j,y]=i.useState(!0),[b,v]=i.useState(null),[N,u]=i.useState(null),[p,f]=i.useState("all");i.useEffect((()=>{(async()=>{if(g){y(!0),v(null);try{const e=await x.search(g);u(e),e.type&&f(e.type)}catch(e){v("Failed to perform search")}finally{y(!1)}}else y(!1)})()}),[g]);const k=()=>e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-xl shadow-md p-8 text-center",children:[e.jsx(s,{className:"h-16 w-16 mx-auto text-gray-300 dark:text-gray-600 mb-4"}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No results found"}),e.jsxs("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:['No items match your search query: "',g,'"']}),e.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[e.jsx("p",{className:"mb-2",children:"Try searching for:"}),e.jsxs("ul",{className:"list-disc list-inside text-left max-w-md mx-auto",children:[e.jsx("li",{children:"Transaction hash (e.g., 0x...)"}),e.jsx("li",{children:"Block number (e.g., 12345)"}),e.jsx("li",{children:"Account address (e.g., 0x...)"}),e.jsx("li",{children:"Token name or symbol"})]})]})]});return j?e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("h1",{className:"text-2xl font-bold mb-6",children:["Search Results: ",g]}),e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})})]}):b?e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("h1",{className:"text-2xl font-bold mb-6",children:["Search Results: ",g]}),e.jsx("div",{className:"bg-red-100 dark:bg-red-900/20 text-red-700 dark:text-red-400 p-4 rounded-lg",children:b})]}):e.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:[e.jsxs("h1",{className:"text-2xl font-bold mb-6",children:["Search Results: ",g]}),N&&N.type?e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:e.jsx("nav",{className:"flex -mb-px",children:["all","transaction","block","account","token"].map((l=>e.jsx("button",{className:"mr-2 px-4 py-2 font-medium text-sm border-b-2 "+(p===l||"all"===l&&!p?"border-primary text-primary":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300 dark:hover:border-gray-600"),onClick:()=>f(l),children:e.jsxs("span",{className:"flex items-center",children:["all"===l&&e.jsx(s,{className:"mr-2 h-4 w-4"}),"transaction"===l&&e.jsx(a,{className:"mr-2 h-4 w-4"}),"block"===l&&e.jsx(t,{className:"mr-2 h-4 w-4"}),"account"===l&&e.jsx(r,{className:"mr-2 h-4 w-4"}),"token"===l&&e.jsx(d,{className:"mr-2 h-4 w-4"}),l.charAt(0).toUpperCase()+l.slice(1)]})},l)))})}),e.jsx("div",{className:"mt-6",children:"all"===p||p===N.type?(s=>{if(!N||!N.data)return null;switch(s){case"transaction":return e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-xl shadow-md overflow-x-auto p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Transaction Details"}),e.jsxs(c,{to:`/transaction/${N.data.hash}`,className:"block hover:bg-gray-50 dark:hover:bg-gray-800/50 p-4 rounded-lg border border-gray-200 dark:border-gray-700 mb-4",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between mb-2",children:[e.jsx("div",{className:"font-medium text-primary",children:"Transaction Hash"}),e.jsx("div",{className:"font-mono text-sm",children:N.data.hash})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"From"}),e.jsx("div",{className:"font-mono text-sm mt-1",children:n(N.data.from,12)})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"To"}),e.jsx("div",{className:"font-mono text-sm mt-1",children:n(N.data.to,12)})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Status"}),e.jsx("div",{className:"text-sm mt-1 "+("success"===N.data.status?"text-green-600 dark:text-green-400":"pending"===N.data.status?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400"),children:N.data.status.charAt(0).toUpperCase()+N.data.status.slice(1)})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Time"}),e.jsx("div",{className:"text-sm mt-1",children:o(N.data.timestamp)})]})]})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx(c,{to:`/transaction/${N.data.hash}`,className:"inline-flex items-center px-4 py-2 bg-primary hover:bg-primary-700 text-white rounded-md",children:"View Full Transaction Details"})})]});case"block":return e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-xl shadow-md overflow-x-auto p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Block Details"}),e.jsxs(c,{to:`/block/${N.data.number}`,className:"block hover:bg-gray-50 dark:hover:bg-gray-800/50 p-4 rounded-lg border border-gray-200 dark:border-gray-700 mb-4",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between mb-2",children:[e.jsxs("div",{className:"font-medium text-primary",children:["Block #",N.data.number]}),e.jsx("div",{className:"font-mono text-sm",children:n(N.data.hash,16)})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Transactions"}),e.jsx("div",{className:"text-sm mt-1",children:N.data.transactions})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Validator"}),e.jsx("div",{className:"font-mono text-sm mt-1",children:n(N.data.validator,8)})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Size"}),e.jsxs("div",{className:"text-sm mt-1",children:[m(N.data.gasUsed)," bytes"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Time"}),e.jsx("div",{className:"text-sm mt-1",children:o(N.data.timestamp)})]})]})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx(c,{to:`/block/${N.data.number}`,className:"inline-flex items-center px-4 py-2 bg-primary hover:bg-primary-700 text-white rounded-md",children:"View Full Block Details"})})]});case"account":return e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-xl shadow-md overflow-x-auto p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Account Details"}),e.jsxs(c,{to:`/account/${N.data.address}`,className:"block hover:bg-gray-50 dark:hover:bg-gray-800/50 p-4 rounded-lg border border-gray-200 dark:border-gray-700 mb-4",children:[e.jsxs("div",{className:"flex flex-col mb-2",children:[e.jsx("div",{className:"font-medium text-primary",children:"Address"}),e.jsx("div",{className:"font-mono text-sm break-all",children:N.data.address})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Balance"}),e.jsxs("div",{className:"text-sm mt-1",children:[m(N.data.balance)," DRT"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Transactions"}),e.jsx("div",{className:"text-sm mt-1",children:m(N.data.txCount)})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Type"}),e.jsx("div",{className:"text-sm mt-1",children:N.data.isSmartContract?"Smart Contract":"Wallet"})]})]})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx(c,{to:`/account/${N.data.address}`,className:"inline-flex items-center px-4 py-2 bg-primary hover:bg-primary-700 text-white rounded-md",children:"View Full Account Details"})})]});case"token":return e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-xl shadow-md overflow-x-auto p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Token Details"}),e.jsxs(c,{to:`/token/${N.data.id}`,className:"block hover:bg-gray-50 dark:hover:bg-gray-800/50 p-4 rounded-lg border border-gray-200 dark:border-gray-700 mb-4",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-primary/20 rounded-full flex items-center justify-center text-sm font-medium text-primary",children:N.data.symbol.substring(0,2)}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"font-medium text-primary",children:N.data.name}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:N.data.symbol})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Price"}),e.jsxs("div",{className:"text-sm mt-1",children:["$",N.data.price.toFixed(4)]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Market Cap"}),e.jsxs("div",{className:"text-sm mt-1",children:["$",m(N.data.marketCap)]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Holders"}),e.jsx("div",{className:"text-sm mt-1",children:m(N.data.holders)})]})]})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx(c,{to:`/token/${N.data.id}`,className:"inline-flex items-center px-4 py-2 bg-primary hover:bg-primary-700 text-white rounded-md",children:"View Full Token Details"})})]});default:return e.jsx("div",{className:"bg-white dark:bg-gray-900 rounded-xl shadow-md p-6",children:e.jsxs("div",{className:"text-center text-gray-500 dark:text-gray-400",children:['No matching results found for "',g,'"']})})}})(N.type):k()})]}):k()]})};export{h as default};
