import{j as e,d as s,c as a,S as t,g as r,A as l,H as n,I as i,T as c}from"./index-DAlTqEZr.js";import{r as d}from"./vendor-DKx09kD0.js";import{B as o,L as m,f as x,C as h,a as g,b as u,P as b,c as y,g as j,A as p,e as N,p as f,d as k,i as v}from"./charts-DzQ2rSjN.js";import{d as w,f as A}from"./formatters-Qc2P36Ej.js";h.register(g,u,b,y,j,p,N,f,k,v);const S=()=>{const[h,g]=d.useState(null),[u,b]=d.useState(!0),[y,j]=d.useState(null),[p,N]=d.useState("price"),[f,k]=d.useState("1w"),[v,S]=d.useState("transactions");d.useEffect((()=>{(async()=>{b(!0),j(null);try{setTimeout((()=>{const e=(e,s,a)=>Array(a).fill(0).map((()=>e+Math.random()*s)),s={price:{current:.25,change24h:5.2,high24h:.27,low24h:.23,volume24h:12e6,marketCap:25e7,history:{"1d":e(.2,.1,24),"1w":e(.2,.1,7),"1m":e(.15,.2,30),"3m":e(.1,.3,12),"1y":e(.05,.4,12)}},transactions:{total:58654321,daily:125432,change24h:12.5,avgFee:25e-5,history:{"1d":e(4e3,2e3,24),"1w":e(1e5,5e4,7),"1m":e(8e4,1e5,30),"3m":e(5e4,15e4,12),"1y":e(3e4,2e5,12)}},accounts:{total:742935,new24h:1234,active24h:52436,change24h:2.3,history:{"1d":e(1e3,500,24),"1w":e(5e3,3e3,7),"1m":e(4e3,5e3,30),"3m":e(3e3,7e3,12),"1y":e(2e3,1e4,12)}},staking:{totalStaked:5e8,stakingAPR:12.5,activeValidators:2e3,history:{"1d":e(49e7,2e7,24),"1w":e(48e7,4e7,7),"1m":e(47e7,6e7,30),"3m":e(45e7,1e8,12),"1y":e(4e8,2e8,12)}},shardDistribution:{"Shard 0":35,"Shard 1":30,"Shard 2":25,Metachain:10},transactionTypes:{Transfer:60,"Smart Contract":25,"NFT Transfer":10,Staking:5}};g(s),b(!1)}),1e3)}catch(e){j("Failed to load analytics data. Please try refreshing the page."),b(!1)}})()}),[]);const T=(e,s)=>{if(!h)return{labels:[],datasets:[{label:"",data:[]}]};let a=[];if("1d"===s?a=Array.from({length:24},((e,s)=>`${s}:00`)):"1w"===s?a=Array.from({length:7},((e,s)=>{const a=new Date;return a.setDate(a.getDate()-(6-s)),a.toLocaleDateString("en-US",{weekday:"short"})})):"1m"===s?a=Array.from({length:30},((e,s)=>{const a=new Date;return a.setDate(a.getDate()-(29-s)),`${a.getDate()}/${a.getMonth()+1}`})):"3m"===s?a=Array.from({length:12},((e,s)=>{const a=new Date;return a.setDate(a.getDate()-(90-7*s)),`${a.getDate()}/${a.getMonth()+1}`})):"1y"===s&&(a=Array.from({length:12},((e,s)=>{const a=new Date;return a.setMonth(a.getMonth()-(11-s)),a.toLocaleDateString("en-US",{month:"short"})}))),"price"===e){return{labels:a,datasets:[{label:"REWA Price (USD)",data:h.price.history[s]||Array(a.length).fill(0),borderColor:"rgb(22, 163, 74)",backgroundColor:"rgba(22, 163, 74, 0.1)",fill:!0,tension:.4}]}}if("transactions"===e){return{labels:a,datasets:[{label:"Transactions",data:h.transactions.history[s]||Array(a.length).fill(0),backgroundColor:"rgb(59, 130, 246)",borderRadius:4}]}}if("gas"===e){return{labels:a,datasets:[{label:"Gas Used",data:(h.transactions.history[s]||Array(a.length).fill(0)).map((e=>.5*e+1e3*Math.random())),borderColor:"rgb(249, 115, 22)",backgroundColor:"rgba(249, 115, 22, 0.1)",fill:!0,tension:.4}]}}if("accounts"===e){return{labels:a,datasets:[{label:"Active Addresses",data:h.accounts.history[s]||Array(a.length).fill(0),borderColor:"rgb(139, 92, 246)",backgroundColor:"rgba(139, 92, 246, 0.1)",fill:!0,tension:.4}]}}return null},C=e=>{const s={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,position:"top",labels:{color:document.documentElement.classList.contains("dark")?"#e5e7eb":"#374151",font:{size:12}}},tooltip:{mode:"index",intersect:!1}},scales:{x:{ticks:{color:document.documentElement.classList.contains("dark")?"#9ca3af":"#6b7280"},grid:{display:!1}},y:{ticks:{color:document.documentElement.classList.contains("dark")?"#9ca3af":"#6b7280"},grid:{color:document.documentElement.classList.contains("dark")?"rgba(107, 114, 128, 0.2)":"rgba(229, 231, 235, 0.8)"},beginAtZero:!0}}};return"price"===e?{...s,scales:{...s.scales,y:{...s.scales.y,ticks:{...s.scales.y.ticks,callback:e=>`$${e}`}}}}:s},D=e=>{const s=Object.keys(e),a=Object.values(e);return{labels:s,datasets:[{data:a,backgroundColor:["rgba(59, 130, 246, 0.8)","rgba(16, 185, 129, 0.8)","rgba(249, 115, 22, 0.8)","rgba(139, 92, 246, 0.8)","rgba(239, 68, 68, 0.8)"].slice(0,a.length),borderColor:"transparent"}]}},M=()=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right",labels:{color:document.documentElement.classList.contains("dark")?"#e5e7eb":"#374151",font:{size:12}}},tooltip:{callbacks:{label:e=>`${e.label}: ${e.raw}%`}}}});if(u)return e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Analytics"}),e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})})]});if(y)return e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Analytics"}),e.jsx("div",{className:"bg-red-100 dark:bg-red-900/20 text-red-700 dark:text-red-400 p-4 rounded-lg",children:y})]});if(!h)return e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Analytics"}),e.jsx("div",{className:"bg-yellow-100 dark:bg-yellow-900/20 text-yellow-700 dark:text-yellow-400 p-4 rounded-lg",children:"No analytics data available. Please try again later."})]});const $=e=>e>=0?"text-green-500 dark:text-green-400":"text-red-500 dark:text-red-400",R=s=>s>=0?e.jsx(n,{className:"inline"}):e.jsx(i,{className:"inline"});return e.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Dharitri Analytics"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-xl shadow-md p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"REWA Price"}),e.jsx("div",{className:"bg-blue-100 dark:bg-blue-900/20 p-2 rounded-lg",children:e.jsx(s,{className:"text-blue-500 dark:text-blue-400"})})]}),e.jsxs("div",{className:"text-2xl font-bold mb-2",children:["$",h.price.current.toFixed(2)]}),e.jsxs("div",{className:`text-sm ${$(h.price.change24h)}`,children:[R(h.price.change24h)," ",w(Math.abs(h.price.change24h))," (24h)"]}),e.jsxs("div",{className:"mt-4 text-sm text-gray-500 dark:text-gray-400",children:["Market Cap: $",A(h.price.marketCap)]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-xl shadow-md p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Transactions (24h)"}),e.jsx("div",{className:"bg-green-100 dark:bg-green-900/20 p-2 rounded-lg",children:e.jsx(a,{className:"text-green-500 dark:text-green-400"})})]}),e.jsx("div",{className:"text-2xl font-bold mb-2",children:A(h.transactions.count24h)}),e.jsxs("div",{className:`text-sm ${$(h.transactions.change24h)}`,children:[R(h.transactions.change24h)," ",w(Math.abs(h.transactions.change24h))," (24h)"]}),e.jsxs("div",{className:"mt-4 text-sm text-gray-500 dark:text-gray-400",children:["Avg Time: ",h.transactions.avgTime,"s"]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-xl shadow-md p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Active Accounts (24h)"}),e.jsx("div",{className:"bg-purple-100 dark:bg-purple-900/20 p-2 rounded-lg",children:e.jsx(t,{className:"text-purple-500 dark:text-purple-400"})})]}),e.jsx("div",{className:"text-2xl font-bold mb-2",children:A(h.accounts.active24h)}),e.jsxs("div",{className:`text-sm ${$(h.accounts.change24h)}`,children:[R(h.accounts.change24h)," ",w(Math.abs(h.accounts.change24h))," (24h)"]}),e.jsxs("div",{className:"mt-4 text-sm text-gray-500 dark:text-gray-400",children:["New Accounts: ",A(h.accounts.newAccounts24h)]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-xl shadow-md p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Total Staked REWA"}),e.jsx("div",{className:"bg-orange-100 dark:bg-orange-900/20 p-2 rounded-lg",children:e.jsx(r,{className:"text-orange-500 dark:text-orange-400"})})]}),e.jsxs("div",{className:"text-2xl font-bold mb-2",children:[A(h.staking.totalStaked)," REWA"]}),e.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Staking APR: ",w(h.staking.stakingAPR)]}),e.jsxs("div",{className:"mt-4 text-sm text-gray-500 dark:text-gray-400",children:["Active Validators:"," ",A(h.staking.activeValidators)]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-xl shadow-md p-6 mb-8",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-4",children:[(e=>{switch(e){case"price":return"REWA Price (USD)";case"transactions":return"Transaction Count";case"gas":return"Gas Used";case"accounts":return"Active Addresses";default:return""}})(p)," Chart"]}),(()=>{const r=[{label:"Price",value:"price",icon:e.jsx(s,{className:"mr-1.5"})},{label:"Transactions",value:"transactions",icon:e.jsx(a,{className:"mr-1.5"})},{label:"Gas",value:"gas",icon:e.jsx(c,{className:"mr-1.5"})},{label:"Accounts",value:"accounts",icon:e.jsx(t,{className:"mr-1.5"})}];return e.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:r.map((s=>e.jsxs("button",{onClick:()=>N(s.value),className:"px-4 py-2 text-sm font-medium rounded-lg flex items-center "+(p===s.value?"bg-primary text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200 dark:bg-gray-800 dark:text-gray-300 dark:hover:bg-gray-700"),children:[s.icon," ",s.label]},s.value)))})})(),(()=>{const s=h?Object.keys(h.price.history):["1d","1w","1m","3m"],a=[{label:"1D",value:"1d"},{label:"1W",value:"1w"},{label:"1M",value:"1m"},{label:"3M",value:"3m"}];return h&&h.price.history["1y"]&&a.push({label:"1Y",value:"1y"}),e.jsx("div",{className:"flex space-x-2 mb-4",children:a.filter((e=>s.includes(e.value))).map((s=>e.jsx("button",{onClick:()=>k(s.value),className:"px-3 py-1.5 text-sm font-medium rounded "+(f===s.value?"bg-primary text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200 dark:bg-gray-800 dark:text-gray-300 dark:hover:bg-gray-700"),children:s.label},s.value)))})})(),e.jsx("div",{className:"h-96",children:"transactions"===p?e.jsx(o,{data:T(p,f),options:C(p)}):e.jsx(m,{data:T(p,f),options:C(p)})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-xl shadow-md p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Shard Distribution"}),e.jsx("div",{className:"h-80",children:e.jsx(x,{data:D(h.shardDistribution),options:M()})})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-xl shadow-md p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Transaction Types"}),e.jsx("div",{className:"h-80",children:e.jsx(x,{data:D(h.transactionTypes),options:M()})})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-xl shadow-md p-6 mb-8",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Key Metrics"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:"Price & Market"}),e.jsxs("ul",{className:"space-y-3",children:[e.jsxs("li",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Current Price"}),e.jsxs("span",{className:"font-medium",children:["$",h.price.current.toFixed(2)]})]}),e.jsxs("li",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"24h High"}),e.jsxs("span",{className:"font-medium",children:["$",h.price.high24h.toFixed(2)]})]}),e.jsxs("li",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"24h Low"}),e.jsxs("span",{className:"font-medium",children:["$",h.price.low24h.toFixed(2)]})]}),e.jsxs("li",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Market Cap"}),e.jsxs("span",{className:"font-medium",children:["$",A(h.price.marketCap)]})]}),e.jsxs("li",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"24h Volume"}),e.jsxs("span",{className:"font-medium",children:["$",A(h.price.volume24h)]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:"Transactions"}),e.jsxs("ul",{className:"space-y-3",children:[e.jsxs("li",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Total Transactions"}),e.jsx("span",{className:"font-medium",children:A(h.transactions.total)})]}),e.jsxs("li",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"24h Count"}),e.jsx("span",{className:"font-medium",children:A(h.transactions.count24h)})]}),e.jsxs("li",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Avg Time"}),e.jsxs("span",{className:"font-medium",children:[h.transactions.avgTime,"s"]})]}),e.jsxs("li",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Success Rate"}),e.jsxs("span",{className:"font-medium",children:[h.transactions.successRate,"%"]})]}),e.jsxs("li",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Avg Fee"}),e.jsxs("span",{className:"font-medium",children:[h.transactions.avgFee," REWA"]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:"Accounts"}),e.jsxs("ul",{className:"space-y-3",children:[e.jsxs("li",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Total Accounts"}),e.jsx("span",{className:"font-medium",children:A(h.accounts.total)})]}),e.jsxs("li",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Active (24h)"}),e.jsx("span",{className:"font-medium",children:A(h.accounts.active24h)})]}),e.jsxs("li",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"New (24h)"}),e.jsx("span",{className:"font-medium",children:A(h.accounts.newAccounts24h)})]}),e.jsxs("li",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Smart Contracts"}),e.jsx("span",{className:"font-medium",children:A(h.accounts.withSmartContracts)})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:"Staking"}),e.jsxs("ul",{className:"space-y-3",children:[e.jsxs("li",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Total Staked"}),e.jsxs("span",{className:"font-medium",children:[A(h.staking.totalStaked)," REWA"]})]}),e.jsxs("li",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Staking APR"}),e.jsxs("span",{className:"font-medium",children:[h.staking.stakingAPR,"%"]})]}),e.jsxs("li",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Active Validators"}),e.jsx("span",{className:"font-medium",children:A(h.staking.activeValidators)})]}),e.jsxs("li",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Queue Size"}),e.jsx("span",{className:"font-medium",children:h.staking.queueSize})]}),e.jsxs("li",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Next Epoch"}),e.jsx("span",{className:"font-medium",children:h.staking.nextEpoch})]})]})]})]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(l,{className:"text-primary mr-2"}),e.jsx("h2",{className:"text-lg font-semibold",children:"About Dharitri Analytics"})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"The Analytics page provides insights into the Dharitri blockchain's performance, transaction activity, and ecosystem growth. The data is updated regularly to give you the most current overview of the network's health and activity."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-md font-medium mb-2",children:"Chart Navigation"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Use the chart type buttons to toggle between different metrics (Price, Transactions, Gas, Accounts), and the timeframe buttons to adjust the time period shown in the chart. This allows you to analyze network trends over different time spans."})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-md font-medium mb-2",children:"Key Metrics Explained"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"The Key Metrics section breaks down essential blockchain statistics into categories. Price & Market covers REWA's market performance, Transactions shows network activity, Accounts displays user metrics, and Staking provides information about the network's security and rewards."})]})]})]})]})};export{S as default};
