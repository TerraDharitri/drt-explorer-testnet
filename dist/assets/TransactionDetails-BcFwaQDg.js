import{j as e,o as s,p as a,g as t,q as r,c as l,r as i,s as c,t as n,u as d,v as x,w as m,x as o}from"./index-DAlTqEZr.js";import{e as g,r as h,L as y}from"./vendor-DKx09kD0.js";import{a as j}from"./api-BXm3BkPp.js";import{c as b,t as p,f,b as N}from"./formatters-Qc2P36Ej.js";import{C as v,B as u,d as k,c as w}from"./Badge-D9xHbnWG.js";import{L as T}from"./Loading-B-Dc_Rp9.js";const S=()=>{const{txHash:S}=g(),[C,B]=h.useState(null),[F,D]=h.useState(!0),[H,L]=h.useState(null),[z,A]=h.useState(!1);h.useEffect((()=>{(async()=>{if(S){D(!0),L(null);try{const e=await j.getTransaction(S),s={...e.data,timestamp:1e3*e.data.timestamp};B(s)}catch(e){L("Failed to fetch transaction details")}finally{D(!1)}}})()}),[S]);if(F&&!C)return e.jsx("div",{className:"container-custom py-16 pt-24",children:e.jsx(T,{className:"my-16",size:"lg"})});if(H)return e.jsx("div",{className:"container-custom py-16 pt-24",children:e.jsxs("div",{className:"text-center text-red-500",children:[e.jsx(s,{className:"mx-auto h-12 w-12 mb-4"}),e.jsx("p",{className:"text-xl font-medium mb-4",children:H}),e.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 btn-primary",children:"Retry"})]})});if(!C)return e.jsx("div",{className:"container-custom py-16 pt-24",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-6 rounded-xl inline-block mb-4",children:e.jsx(s,{className:"h-12 w-12 text-yellow-500"})}),e.jsx("p",{className:"text-xl font-medium text-gray-900 dark:text-gray-100 mb-2",children:"Transaction not found"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"The transaction hash you're looking for doesn't exist or hasn't been indexed yet."}),e.jsx(y,{to:"/",className:"btn-primary inline-block",children:"Back to Home"})]})});const P=(R=C.status,{success:{icon:o,label:"Success",color:"text-green-500",variant:"success",description:"Transaction was successfully executed"},pending:{icon:m,label:"Pending",color:"text-yellow-500",variant:"warning",description:"Transaction is pending confirmation"},failed:{icon:x,label:"Failed",color:"text-red-500",variant:"danger",description:"Transaction failed to execute"},invalid:{icon:s,label:"Invalid",color:"text-red-500",variant:"danger",description:"Transaction is invalid"}}[R]||{icon:s,label:R,color:"text-gray-500",variant:"default",description:"Unknown status"});var R;const U=(e=>{const s={transfer:{icon:l,label:"Transfer",description:"Token transfer between accounts"},smartContract:{icon:c,label:"Smart Contract",description:"Smart contract interaction"},staking:{icon:t,label:"Staking",description:"Validator staking transaction"},default:{icon:l,label:"Transaction",description:"Standard transaction"}};return s[e]||s.default})(C.type),V=P.icon;return U.icon,e.jsxs("div",{className:"container-custom py-8 pt-24",children:[e.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6",children:e.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 dark:text-white",children:"Transaction Details"})}),e.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[e.jsxs(v,{className:"mb-2",children:[e.jsx("div",{className:"px-6 py-5 border-b border-gray-100 dark:border-gray-700",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`p-2 rounded-lg ${P.color} bg-opacity-10 mr-3`,children:e.jsx(V,{className:`h-5 w-5 ${P.color}`})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:U.label}),e.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:U.description})]})]}),e.jsx(u,{variant:P.variant,size:"lg",glow:"success"===C.status,children:P.label})]})}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"mb-6 pb-6 border-b border-gray-100 dark:border-gray-700",children:e.jsx("div",{className:"flex flex-col gap-2",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-2",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 min-w-[120px]",children:"Transaction Hash:"}),e.jsxs("div",{className:"flex items-center flex-1",children:[e.jsx("span",{className:"font-mono text-gray-800 dark:text-gray-200 break-all text-sm",children:S}),e.jsx(k,{text:S,className:"ml-2"})]})]})})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-12 gap-y-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between py-3 border-b border-gray-100 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center text-gray-500 dark:text-gray-400",children:[e.jsx(a,{className:"h-4 w-4 mr-2"}),e.jsx("span",{className:"text-sm",children:"Timestamp"})]}),e.jsxs("div",{className:"text-sm text-gray-900 dark:text-gray-200",children:[b(C.timestamp)," ",e.jsxs("span",{className:"text-gray-500 dark:text-gray-400",children:["(",p(C.timestamp),")"]})]})]}),e.jsxs("div",{className:"flex justify-between py-3 border-b border-gray-100 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center text-gray-500 dark:text-gray-400",children:[e.jsx(t,{className:"h-4 w-4 mr-2"}),e.jsx("span",{className:"text-sm",children:"Block"})]}),e.jsx("div",{className:"text-sm",children:C.block?e.jsx(w,{hash:C.block,type:"block"}):e.jsx("span",{className:"text-yellow-500",children:"Pending"})})]}),e.jsxs("div",{className:"flex justify-between py-3 border-b border-gray-100 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center text-gray-500 dark:text-gray-400",children:[e.jsx(r,{className:"h-4 w-4 mr-2"}),e.jsx("span",{className:"text-sm",children:"Nonce"})]}),e.jsx("div",{className:"text-sm text-gray-900 dark:text-gray-200",children:void 0!==C.nonce?f(C.nonce):"N/A"})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between py-3 border-b border-gray-100 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center text-gray-500 dark:text-gray-400",children:[e.jsx(l,{className:"h-4 w-4 mr-2"}),e.jsx("span",{className:"text-sm",children:"Value"})]}),e.jsx("div",{className:"text-sm font-semibold text-gray-900 dark:text-gray-200",children:N(C.value)})]}),e.jsxs("div",{className:"flex justify-between py-3 border-b border-gray-100 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center text-gray-500 dark:text-gray-400",children:[e.jsx(i,{className:"h-4 w-4 mr-2"}),e.jsx("span",{className:"text-sm",children:"Fee"})]}),e.jsx("div",{className:"text-sm text-gray-900 dark:text-gray-200",children:N(C.fee)})]}),e.jsxs("div",{className:"flex justify-between py-3 border-b border-gray-100 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center text-gray-500 dark:text-gray-400",children:[e.jsx(c,{className:"h-4 w-4 mr-2"}),e.jsx("span",{className:"text-sm",children:"Type"})]}),e.jsx("div",{className:"text-sm text-gray-900 dark:text-gray-200",children:C.type&&C.type.charAt(0).toUpperCase()+C.type.slice(1)})]})]})]})]})]}),e.jsx(v,{className:"mb-2",children:e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex flex-col space-y-6",children:[e.jsxs("div",{className:"flex items-start md:items-center",children:[e.jsx("div",{className:"min-w-[80px] text-sm font-medium text-gray-500 dark:text-gray-400 mr-6",children:"From"}),e.jsx("div",{className:"flex-1 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:e.jsx(w,{hash:C.from,type:"account",length:"full",highlight:!0,monospace:!0})})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"bg-gray-100 dark:bg-gray-800 p-2 rounded-full",children:e.jsx(n,{className:"h-5 w-5 text-gray-400"})})}),e.jsxs("div",{className:"flex items-start md:items-center",children:[e.jsx("div",{className:"min-w-[80px] text-sm font-medium text-gray-500 dark:text-gray-400 mr-6",children:"To"}),e.jsx("div",{className:"flex-1 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:e.jsx(w,{hash:C.to,type:"account",length:"full",highlight:!0,monospace:!0})})]})]})})}),C.data&&e.jsxs(v,{className:"mb-2",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(d,{className:"mr-2 text-gray-500"}),e.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:"Transaction Data"})]}),e.jsx("button",{className:"text-sm text-primary hover:underline",onClick:()=>A(!z),children:z?"Show Decoded":"Show Raw"})]}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg font-mono text-sm break-all overflow-x-auto",children:C.data})})]})]})]})};export{S as default};
